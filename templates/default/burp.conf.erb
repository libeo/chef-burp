# Generated by Chef for <%= node['fqdn'] %>
# Changes will be overwritten

mode = client

port = <%= node['burp']['port'] %>
server = <%= node['burp']['server'] %>
ssl_peer_cn = backup.libeo.com
password = <%= node['burp']['client_password'] %>
cname = <%= node['fqdn'] %>

<% if node['burp']['ratelimit'] == "yes" %>
ratelimit = <%= node['burp']['ratelimit_mbps'] %>
<% end %>

<% unless node['burp']['excludes'].empty? -%>
  <% node['burp']['excludes'].each do |exclusion| -%>
exclude = <%= exclusion %>
  <% end -%>
<% end -%>

pidfile = <%= node['burp']['pidfile'] %>


syslog = 0
stdout = 1
progress_counter = 1
server_can_restore = 0
cross_all_filesystems=1

ca_burp_ca = /usr/sbin/burp_ca
ca_csr_dir = /etc/burp/CA-client
ssl_cert_ca = /etc/burp/ssl_cert_ca.pem
ssl_cert = /etc/burp/ssl_cert-client.pem
ssl_key = /etc/burp/ssl_cert-client.key
ssl_key_password = password


# Set an encryption password if you do not trust the server with your data.
# Note that this will mean that network deltas will not be possible. Each time
# a file changes, the whole file will be transferred on the next backup.
# encryption_password = My^$pAsswIrD%@

# Client SSL ciphers
#ssl_ciphers = 

backup_script_pre=/etc/burp/pre.sh

# Example syntax for pre/post scripts
#backup_script_pre=/path/to/a/script
#backup_script_post=/path/to/a/script
#restore_script_pre=/path/to/a/script
#restore_script_post=/path/to/a/script

